@page "/blogposts"
@inject BlogPostService BlogPostService

<MudStack Spacing="3">
    @if (posts == null)
    {
        <MudText Typo="Typo.h6" Color="Color.Primary">Loading posts...</MudText>
    }
    else
    {
        @foreach (var post in posts)
        {
            <MudItem>
                <BlogPostComp Title="@post.Title" PublishedDate="@post.CreatedAt" Content="@post.Content" />
            </MudItem>
        }
    }
</MudStack>

@code {
    private List<BlogPost> posts;

    protected override async Task OnInitializedAsync()
    {
        posts = await BlogPostService.GetAllPostsAsync();
    }
}
